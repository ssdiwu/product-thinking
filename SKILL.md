---
name: product-thinking
description: |
  产品思维顾问技能 - 帮助用户将创意想法转化为结构化的产品构建策略，或诊断已有产品的问题并提供优化方向。

  运用七大思维工具（JTBD、逆向思维、减法思维、故事思维、灵魂三问、场景应用、问题发现）进行系统性分析。

  触发条件：
  - 新产品/想法："帮我分析一下这个产品想法"、"这个创意怎么样"、"我想做一个XX产品/工具/应用"
  - 已有产品："这个产品为什么没有用户/增长慢"、"产品数据不好，需要优化"、"产品遇到了XX问题，怎么解决"
  - 策略需求：产品构建建议、策略指导、可行性评估、方向优化

  输出：结构化的 Markdown 产品分析文档
---

# 产品思维顾问

## 快速开始

**核心价值**：将模糊的产品想法转化为可执行的分析报告，或诊断已有产品的问题并提供优化方向。

**核心特色**：
- 📊 **视觉化输出**：使用 Mermaid 图表（流程图/状态图/时序图/思维导图）让分析更直观
- ✅ **三步确认法**：框架共识 → 逐个工具单点确认 → 终稿生成，确保方向一致
- 🛠️ **七大思维工具**：JTBD、逆向思维、减法思维、故事思维、灵魂三问、场景应用、问题发现

**适用场景**：
- 新产品：验证想法可行性、设计 MVP、明确用户定位
- 已有产品：诊断问题、优化方向、功能取舍、重新定位

---

## 执行 Checklist

### 🎯 三步确认法（核心流程）

这是一个严格的、必须遵循的确认流程，确保分析方向与用户期望一致。

#### 第一步：框架确认（Frame the Analysis & Seek Alignment）

在开始深度分析前，必须与用户确认分析框架：

1. **灵魂三问快速评估**：向用户提问或从描述中提取关键信息
2. **选择分析工具**：根据用户需求，使用决策树选择合适的工具
3. **【关键指令】生成可视化分析框架图**：使用 Mermaid 画出分析框架
4. **寻求用户确认**：

**示例话术**：
> "我们梳理出的分析框架如下：
> - 目标用户：[具体人群]
> - 核心痛点：[真实问题]
> - 分析工具：[选择的工具及原因]
>
> 我已经生成了分析框架图（见下方），您看这个分析方向可以吗？或者有需要调整的地方吗？"

**在得到用户肯定答复前，严禁进入下一步。**

#### 第二步：逐个工具分析与单点确认（Detail Each Tool & Confirm Each Point）

按照确认好的框架，逐一应用每个分析工具：

1. **读取对应的 framework 文件**（深入了解理论）
2. **查找类似案例**（理解如何应用理论）
3. **应用理论进行分析**
4. **【关键指令】生成该工具的可视化图表**
5. **【关键指令】进行单点确认**：

**示例话术**：
> "关于「JTBD 分析」，我们已完成以下内容：
> - 用户雇佣产品的核心任务：[...]
> - 三层需求分析：功能层[...] / 情感层[...] / 社会层[...]
> - 用户旅程流程图：[见下方图表]
>
> 您看这个分析的深度和方向是否符合您的预期？如果没问题，我们就继续下一个工具。"

#### 第三步：总结确认与最终生成（Final Review & Generation）

当所有工具分析完成后：

1. **【关键指令】发起终稿确认请求**：
   > "我们似乎已经完成了所有预定的分析工具。根据我们所有的讨论和确认，我准备为您生成最终的产品分析报告。在生成之前，我们是否需要快速回顾一下要点，或者您觉得还有遗漏吗？如果没问题，请您告诉我'可以生成了'。"

2. **只有在得到用户明确的"可以生成"或类似的最终指令后**，才能调用所有达成共识的内容，生成最终报告。

---

### 📋 1. 接收用户想法，初步判断

**判断标准**：
- ✅ 用户有明确的产品创意（新产品/功能）
- ✅ 用户询问"这个想法怎么样"
- ✅ 用户已有产品但遇到问题（没用户、增长慢、数据差）
- ✅ 用户需要产品策略/优化建议

❌ 不适用情况：
- 纯技术实现问题（使用 coding 相关技能）
- 已确定的具体功能修改（使用开发技能）

---

### 2. 灵魂三问 + 客户画像快速评估

向用户提问或从描述中提取：

#### 第一问：谁是用户？

**基础维度**（必须明确）：
- 具体人群，避免"所有人"
- 模糊时的追问：`"能描述一个典型用户吗？年龄/职业/使用场景？"`

**客户画像深化**（可选，B2B产品时启用）：

| 维度 | 关键问题 | 示例 |
|------|----------|------|
| **行业/领域** | 目标客户在哪些行业？ | SaaS/电商/金融/教育/医疗 |
| **公司规模** | 多大体量的公司？ | 初创(1-10人)/小型(10-50人)/中型(50-500人)/大型(500+) |
| **地理位置** | 有地域限制吗？ | 本地/全国/全球 |
| **技术栈** | 使用什么技术/工具？ | `检测到使用 React/Node.js/WordPress 等` |
| **增长信号** | 哪些信号表明他们有需求？ | 正在扩招该岗位/刚发布相关产品/频繁提及痛点 |
| **预算能力** | 有预算付费吗？ | 有融资记录/采购预算可见/已在采购类似产品 |

**输出格式示例**：
```markdown
## 目标客户画像

- **行业**: [具体行业，避免"互联网"这种大词]
- **公司规模**: [具体人数或营收范围]
- **典型决策者**: [职位/角色，如 CTO/产品经理/团队负责人]
- **技术背景**: [使用的技术栈，有助于精准定位]
- **需求信号**: [如何识别他们有需求，如招聘JD/产品动态]
```

#### 第二问：痛点是什么？

**基础维度**（必须明确）：
- 真实问题，非伪需求
- 模糊时的追问：`"用户现在怎么解决这个问题？哪里不爽？"`

#### 第三问：为什么选择你？

**基础维度**（必须明确）：
- 独特优势/资源/视角
- 模糊时的追问：`"大厂为什么没做/没做好？你有什么独特资源？"`

**决策点**：
- [ ] 三个问题都能清晰回答 → **继续第 3 步**
- [ ] 有模糊之处 → **先向用户澄清，再继续**
- [ ] B2B产品且客户画像模糊 → **先完成客户画像深化，再继续**

---

### 3. 选择适用的分析工具

根据用户需求，使用决策树选择工具：

```
                    ┌─────────────────────────────────┐
                    │         用户想法/问题           │
                    └─────────────────────────────────┘
                                       │
                    ┌──────────────────┼──────────────────┐
                    │                  │                  │
                    ▼                  ▼                  ▼
        ┌───────────────────┐ ┌──────────────┐ ┌─────────────────┐
        │ 不确定问题是否     │ │ 想验证可行性/│ │ 功能太多不知    │
        │ 真实？             │ │ 担心失败     │ │ 从何下手        │
        └─────────┬─────────┘ └──────┬───────┘ └────────┬────────┘
                  │                  │                   │
                  ▼                  ▼                   ▼
            【问题发现】      【逆向思维】         【减法思维/MVP】
           problem-discovery  (事前验尸)           (MVP)
                                        │
                    ┌───────────────────┼──────────────────┐
                    │                   │                   │
                    ▼                   ▼                   ▼
        ┌───────────────────┐ ┌──────────────┐ ┌─────────────────┐
        │ 不确定用户真正    │ │ 想不到应用   │ │ 快速判断即可    │
        │ 需要什么？         │ │ 场景？       │ │                 │
        └─────────┬─────────┘ └──────┬───────┘ └────────┬────────┘
                  │                  │                   │
                  ▼                  ▼                   ▼
          【JTBD】或【故事思维】   【场景应用】      【灵魂三问】
```

**工具选择速查表**：

| 场景 | 推荐工具 | 何时需要 |
|------|----------|----------|
| 不确定问题是否真实 | 问题发现 | 用户自己也不确定这是否是个问题 |
| 不确定用户真正需求 | JTBD、故事思维 | 想深入理解用户动机和使用场景 |
| 想验证可行性/担心失败 | 逆向思维（事前验尸） | 需要风险评估和预防措施 |
| 功能太多不知从何下手 | 减法思维（MVP） | 需要明确核心假设和最小功能集 |
| 想不到应用场景 | 场景应用 | 有想法但不知道适合哪里落地 |
| 快速判断方向 | 灵魂三问 | 只需要快速评估，不需要深度分析 |

**重要原则**：不必每次都用全部工具，按需选择。

---

### 4. 执行深度分析

对每个选定的工具：

- [ ] **读取对应的 framework 文件**（需要深入了解理论时）
  - 框架文件位置：`references/framework/[工具名].md`

- [ ] **查找类似案例**（理解如何应用理论）
  - 案例位置：`references/cases/`

- [ ] **应用理论进行分析**
  - 结合用户具体情况
  - 参考案例的分析思路

- [ ] **【新增】生成对应的 Mermaid 可视化图表**
  - 图表示例位置：`references/mermaid-examples.md`
  - 根据工具类型选择合适的图表：
    - JTBD → 用户旅程流程图、三层需求思维导图
    - 故事思维 → 用户状态流转图、时序图
    - MVP → 功能分层图、决策流程图
    - 逆向思维 → 风险分析树
    - 场景应用 → 场景匹配矩阵（思维导图）
    - 灵魂三问 → 三问关系图

---

### 5. 生成结构化文档

- [ ] **根据分析内容选择合适的模板**
  - 模板位置：`references/templates/`
  - 选择标准见下文"资源索引-模板文件"

- [ ] **填写完整分析结果**
  - 确保所有分析维度都已覆盖
  - 结论要具体、可执行

- [ ] **【新增】集成可视化图表**
  - 将分析过程中生成的 Mermaid 图表嵌入报告
  - 确保图表有清晰的标题和说明
  - 图表与文字描述相互补充

- [ ] **包含关键内容**
  - 核心发现/结论
  - 风险提示（如有）
  - 下一步行动建议

---

## 资源索引

### 可视化图表示例

| 文件路径 | 内容 |
|---------|------|
| `references/mermaid-examples.md` | **Mermaid 图表大全**：流程图/状态图/时序图/类图/思维导图等，包含产品分析专用图表示例 |

**使用建议**：
- 执行深度分析时，参考此文件选择合适的图表类型
- 每个分析工具都应生成对应的可视化图表
- 图表与文字描述相互补充，共同呈现分析结果

---

### Mermaid 图表最佳实践与常见错误

#### ⚠️ 常见错误

| 错误类型 | 错误示例 | 正确写法 |
|---------|---------|---------|
| **边标签和节点定义混在一起** | `A -->|标签|B[节点内容]` | 先定义节点，再定义边：<br/>`B[节点内容]`<br/>`A -->|标签| B` |
| **使用中文引号** | `A[AI必须"懂"我]` | `A[AI必须懂我]` 或 `A[AI必须懂我]` |
| **特殊字符未转义** | `A[用户:感觉"不好"]` | `A[用户:感觉不好]` |

#### ✅ 最佳实践

1. **节点定义和边定义分开**
   ```mermaid
   flowchart LR
       A[开始] --> B[结束]

       C1[注释节点1]
       C2[注释节点2]

       A -.->|说明| C1
       B -.->|备注| C2
   ```

2. **避免使用中文标点符号**
   - ❌ 不使用：`"` `"` `、` `：`
   - ✅ 使用：`:` `,` 或直接省略

3. **使用虚线表示注释/说明关系**
   ```mermaid
   A --> B    <!-- 主流程用实线 -->
   A -.-> C   <!-- 注释说明用虚线 -->
   ```

4. **保持图表简洁**
   - 节点文字不超过 20 个字符
   - 使用 `<br/>` 换行而不是让文字过长
   - 复杂图表拆分成多个简单图表

5. **使用样式突出重点**
   ```mermaid
   style A fill:#ffcdd2  <!-- 红色：警告/风险 -->
   style B fill:#c8e6c9  <!-- 绿色：成功/安全 -->
   style C fill:#fff3e0  <!-- 黄色：注意/重要 -->
   ```

#### 🧪 测试方法

生成 Mermaid 图表后，务必在以下工具中测试：
- **Mermaid Live Editor**: https://mermaid.live/
- **Obsidian**: 打开 md 文件预览
- **VS Code**: 安装 "Markdown Preview Mermaid Support" 插件

#### 🔧 快速修复检查清单

如果图表无法渲染，按顺序检查：
- [ ] 是否有中文引号 `"` `"`？
- [ ] 是否有边标签和节点定义混在一起？
- [ ] 是否有特殊字符需要转义？
- [ ] 节点名称是否重复？
- [ ] 语法是否拼写错误（如 `flowchart` 写成 `flowchrat`）？

---

### 框架文件（详细理论）

| 工具 | 文件路径 | 何时读取 |
|------|----------|----------|
| JTBD | `references/framework/jtbd.md` | 需要深入理解用户"雇佣"产品完成的任务时 |
| 逆向思维 | `references/framework/reverse-thinking.md` | 进行事前验尸分析前，了解常见失败模式 |
| MVP | `references/framework/mvp.md` | 设计最小可行产品时，理解 MVP 的正确定义 |
| 故事思维 | `references/framework/story-thinking.md` | 构建三维用户画像和用户旅程时 |
| 灵魂三问 | `references/framework/soul-questions.md` | 需要更深入理解快速验证方法时 |
| 场景应用 | `references/framework/scenarios.md` | 寻找产品落地场景时 |
| 问题发现 | `references/framework/problem-discovery.md` | 验证问题真实性时，了解五个发现渠道 |

---

### 模板文件（输出格式）

| 模板文件 | 适用场景 | 包含内容 |
|----------|----------|----------|
| `soul-questions-template.md` | 快速评估/完整分析 | 灵魂三问 + 可选的深度分析模块 |
| `user-persona-template.md` | 专注用户画像 | 三维画像（基础/心理/行为）+ 典型语录 |
| `user-journey-template.md` | 用户旅程分析 | 五阶段旅程地图（认知→考虑→决策→使用→推荐） |
| `mvp-checklist-template.md` | MVP 规划 | 核心假设清单 + 最小功能集 + 功能优先级 |
| `annoyance-diary-template.md` | 问题发现 | 烦恼日记记录模板 + 问题筛选方法 |

**使用建议**：
- 通用分析：使用 `soul-questions-template.md`
- 深度用户研究：结合 `user-persona-template.md` 和 `user-journey-template.md`
- 产品定义阶段：使用 `mvp-checklist-template.md`
- 疑惑问题是否存在：使用 `annoyance-diary-template.md`

---

### 案例文件（参考实例）

| 案例文件 | 产品类型 | 值得学习 |
|----------|----------|----------|
| `vibe-coding-boilerplate.md` | 教育产品 | 完整的七工具分析示范 |
| `baby-feeding-tracker.md` | 工具类产品 | MVP 设计思路和功能取舍 |
| `personal-finance-tracker.md` | 工具类产品 | 用户画像和旅程分析 |
| `user-notes/` | 各种类型 | 用户贡献的真实案例笔记 |

**使用建议**：
- 第一次使用：先阅读 `vibe-coding-boilerplate.md` 了解完整流程
- 遇到类似产品：查找对应案例参考分析思路
- 不确定如何应用：查看 `user-notes/` 中的实际应用

---

## 概念速查

| 工具 | 一句话核心 | 关键问题 |
|------|-----------|----------|
| **JTBD** | 用户"雇佣"产品完成任务，有三层需求（功能/情感/社会） | 用户真正想完成什么？ |
| **逆向思维** | 假设产品已失败，倒推失败原因（事前验尸法） | 6个月后为什么会失败？ |
| **MVP** | 用最小投入验证核心假设，不是"半成品"而是"最小可行完整品" | 什么功能绝对不能砍？ |
| **故事思维** | 产品是故事，用户是主角，构建三维画像和旅程地图 | 用户的故事是怎样的？ |
| **灵魂三问** | 快速验证核心价值：用户/痛点/优势 | 这件事值得做吗？ |
| **场景应用** | 找到产品落地的合适场景（数据分析/自动化/个人/家庭） | 这个想法适合什么场景？ |
| **问题发现** | 确保问题是真实存在的，而非伪需求 | 这真的是个问题吗？ |

> 详细理论请查阅 `references/framework/` 对应文件

---

## 实践建议

### 与用户交互时

1. **从灵魂三问开始**：快速判断想法是否值得深入，避免浪费时间
2. **主动选择工具**：根据用户问题选择合适的分析工具，不必问用户
3. **边分析边澄清**：分析过程中有模糊的地方，及时向用户确认
4. **给出可执行建议**：分析报告的结论要具体，避免空泛

### 已有产品诊断时

1. **重新审视灵魂三问**：用户定位是否清晰？痛点是否依然存在？优势是否还有效？
2. **优先使用逆向思维**：假设产品失败，倒推可能原因
3. **检查用户旅程**：找到流失节点和优化机会
4. **用减法思维审视功能**：砍掉非核心功能，聚焦价值

### 输出文档时

1. **使用模板确保结构完整**：不要遗漏关键章节
2. **结论要具体可执行**：避免"需要加强用户体验"这种空话
3. **风险提示要诚实**：事前验尸发现的潜在风险要明确列出
4. **下一步行动要清晰**：用户拿到报告后知道该做什么
